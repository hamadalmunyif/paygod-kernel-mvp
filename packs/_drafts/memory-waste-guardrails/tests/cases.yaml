api_version: "paygod/v1"
kind: PackTestCases
metadata:
  pack: "memory-waste-guardrails"
  version: "0.1.0"

cases:
  - name: "deny_missing_limits"
    input:
      request:
        request_kind: "chat.completion"
        safety_level: "standard"
    expect:
      decision: "deny"

  - name: "flag_weak_limits"
    input:
      request:
        request_kind: "chat.completion"
        safety_level: "standard"
        limits:
          max_tokens: 12000
          max_seconds: 90
          max_cost_usd: 2.0
    expect:
      decision: "flag"

  - name: "allow_reasonable_limits"
    input:
      request:
        request_kind: "chat.completion"
        safety_level: "standard"
        limits:
          max_tokens: 2000
          max_seconds: 30
          max_cost_usd: 0.5
    expect:
      decision: "allow"
